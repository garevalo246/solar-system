<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body>
    <script src="https://threejs.org/build/three.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>

    <script src="https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/controls/OrbitControls.js"></script>
    <!-- <script src = "js/three.min.js"></script>
    <script src = "js/three.js"></script> -->

    <script>
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        5000
      );
      camera.position.set(0, 2000, 2000);

      const loadingManager = new THREE.LoadingManager();

      loadingManager.onProgress = function (item, loaded, total) {
        console.log(item, loaded, total);
      };

      loadingManager.onLoad = function () {
        console.log("loaded all resources");
        RESOURCES_LOADED = true;
      };
      const textureLoader = new THREE.TextureLoader(loadingManager);

      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setClearColor("#000000");
      renderer.setSize(window.innerWidth, window.innerHeight);

      document.body.appendChild(renderer.domElement);

      window.addEventListener("resize", () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;

        camera.updateProjectionMatrix();
      });

      //*********controls***********
      controls = new THREE.OrbitControls(camera, renderer.domElement);

      const raycaster = new THREE.Raycaster();
      const mouse = new THREE.Vector2();

      //********************** Sun *************************
      const sunTexture = textureLoader.load("textures/sunTexture.jpeg");
  
      const scl = 5;

      const sunGeo = new THREE.SphereGeometry(14, 30, 30);
      const sunMat = new THREE.MeshBasicMaterial({
        map: sunTexture,
      });
      const sun = new THREE.Mesh(sunGeo, sunMat);
      sun.position.set(0, 0, 0);
      sun.scale.set(15, 15, 15);
      scene.add(sun);

      const spriteMaterial = new THREE.SpriteMaterial({
        map: new THREE.ImageUtils.loadTexture("textures/glow.png"),
        color: 0xebae34,
        transparent: false,
        blending: THREE.AdditiveBlending,
      });
      const sprite = new THREE.Sprite(spriteMaterial);
      sprite.scale.set(20, 20, 20);
      // sunMesh.add(sprite);

      //*********************** Mercury **************************
      const mercTexture = textureLoader.load("textures/mercurymap.jpg");

      const mercuryGeo = new THREE.SphereGeometry(2, 30, 30);
      const mercuryMat = new THREE.MeshStandardMaterial({ map: mercTexture });
      const mercury = new THREE.Mesh(mercuryGeo, mercuryMat);
      mercury.position.set(20, 0, 0);
      mercury.scale.set(1, 1, 1);
      // scene.add(mercury);
      sun.add(mercury);


      const mercuryRing = new THREE.RingGeometry( 15, 15.1, 100 );
      const mercuryRingMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const mercuryGuide = new THREE.Mesh( mercuryRing, mercuryRingMaterial );
      mercuryGuide.scale.set(20,20,20)
      mercuryRing.rotateX(1.5708);
      scene.add( mercuryGuide );

      //*********************** Venus *************************
      const venusTexture = textureLoader.load("textures/venusmapthumb.jpg");
      venusTexture.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      venusTexture.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically
      venusTexture.repeat.set(2, 2);

      const venusBumpMap = textureLoader.load("textures/venusbumpthumb.jpg");
      venusBumpMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      venusBumpMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically
      venusBumpMap.repeat.set(2, 2);

      const sphereVenus = new THREE.SphereGeometry(3, 30, 30);
      const materialVenus = new THREE.MeshStandardMaterial({
        map: venusTexture,
        bumpMap: venusBumpMap,
      });
      const venusMesh = new THREE.Mesh(sphereVenus, materialVenus);
      venusMesh.position.set(-27, 0, 0);
      venusMesh.scale.set(1, 1, 1);
      // scene.add(venusMesh);
      sun.add(venusMesh);

      const venusRing = new THREE.RingGeometry( 20, 20.1, 100 );
      const venusRingMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const venusGuide = new THREE.Mesh( venusRing, venusRingMaterial );
      venusGuide.scale.set(20,20,20)
      venusRing.rotateX(1.5708);
      scene.add( venusGuide );

      //********************** Earth ************************
      const earthColorMap = textureLoader.load("textures/earthmap1k.jpg");
      earthColorMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      earthColorMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically

      const earthBumpMap = textureLoader.load("textures/earthbump1k.jpg");

      const sphereEarth = new THREE.SphereGeometry(3, 32, 32);
      const materialEarth = new THREE.MeshStandardMaterial({
        map: earthColorMap,
        bumpMap: earthBumpMap,
      });
      materialEarth.bumpScale = 0.05;

      const earthMesh = new THREE.Mesh(sphereEarth, materialEarth);
      earthMesh.position.set(-400, 0, 0);
      earthMesh.scale.set(scl, scl, scl);
      scene.add(earthMesh);

      const earthRing = new THREE.RingGeometry( 25, 25.1, 100 );
      const earthRingMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const earthGuide = new THREE.Mesh( earthRing, earthRingMaterial );
      earthGuide.scale.set(20,20,20)
      earthRing.rotateX(1.5708);
      scene.add( earthGuide );

      //**************************** Mars *************************
      const marsColorMap = textureLoader.load("textures/marsmap1k.jpg");

      const marsBumpMap = textureLoader.load("textures/marsbump1k.jpg");

      const sphereMars = new THREE.SphereGeometry(5, 32, 32);
      const materialMars = new THREE.MeshStandardMaterial({
        map: marsColorMap,
        bumpMap: marsBumpMap,
      });
      materialMars.bumpScale = 0.05;

      const mars = new THREE.Mesh(sphereMars, materialMars);
      mars.position.set(-455, 0, 210);
      mars.scale.set(scl, scl, scl);
      scene.add(mars);

      const marsRing = new THREE.RingGeometry( 30, 30.1, 100 );
      const marsRingMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const marsGuide = new THREE.Mesh( marsRing, marsRingMaterial );
      marsGuide.scale.set(20,20,20)
      marsRing.rotateX(1.5708);
      scene.add( marsGuide );

      //**************************** Jupiter ****************************
      const jupiterMap = textureLoader.load("textures/jupitermap.jpg");

      const jupiterGeo = new THREE.SphereGeometry(5, 32, 32);
      const jupiterMat = new THREE.MeshStandardMaterial({
        map: jupiterMap,
      });

      const jupiter = new THREE.Mesh(jupiterGeo, jupiterMat);
      jupiter.position.set(0, 0, -600);
      jupiter.scale.set(9, 9, 9);
      scene.add(jupiter);

      const jupiterRing = new THREE.RingGeometry( 35, 35.1, 100 );
      const jupiterRingMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const jupiterGuide = new THREE.Mesh( jupiterRing, jupiterRingMaterial );
      jupiterGuide.scale.set(20,20,20)
      jupiterRing.rotateX(1.5708);
      scene.add( jupiterGuide );

      //***************************** Saturn ****************************
      var SaturnColorMap = textureLoader.load("textures/saturnmap.jpg");
      // SaturnColorMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      // SaturnColorMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically

      var sphereSaturn = new THREE.SphereGeometry(5, 32, 32);
      // sphereSaturn.rotateZ(0.785398);
      var materialSaturn = new THREE.MeshStandardMaterial({ map: SaturnColorMap });

      var saturnMesh = new THREE.Mesh(sphereSaturn, materialSaturn);
      saturnMesh.rotateX(THREE.Math.degToRad(-27))
      saturnMesh.position.set(0, 0, 700);
      saturnMesh.scale.set(8, 8, 8);
      saturnMesh.add(ringMesh)
      scene.add(saturnMesh);

      //saturn rings
      const ringGeometry = new THREE.RingGeometry(50, 100, 32);
      const ringTexture = textureLoader.load("textures/RingSaturn3.png");
      var ringMaterial = new THREE.MeshBasicMaterial({
        color: 0xffffff,
        side: THREE.DoubleSide,
        map: ringTexture,
      });
      var ringMesh = new THREE.Mesh(ringGeometry, ringMaterial);
      ringMesh.rotateX(THREE.Math.degToRad(-117))
      ringMesh.position.set(0, 0, 700);
      scene.add(ringMesh);

      const saturnRing = new THREE.RingGeometry( 40, 40.1, 100 );
      const saturnRingMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const saturnGuide = new THREE.Mesh( saturnRing, saturnRingMaterial );
      saturnGuide.scale.set(20,20,20)
      saturnRing.rotateX(1.5708);
      scene.add( saturnGuide );

      //************************ Uranus ****************************
      const uranusColorMap = textureLoader.load("textures/uranusmap.jpg");
      uranusColorMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      uranusColorMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically

      const sphereUranus = new THREE.SphereGeometry(5, 32, 32);
      const materialUranus = new THREE.MeshStandardMaterial({ map: uranusColorMap });

      const uranusMesh = new THREE.Mesh(sphereUranus, materialUranus);
      uranusMesh.position.set(800, 0, 0);
      uranusMesh.scale.set(scl, scl, scl);
      scene.add(uranusMesh);

      const uranusRing = new THREE.RingGeometry( 45, 45.1, 100 );
      const uranusMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const uranusGuide = new THREE.Mesh( uranusRing, uranusMaterial );
      uranusGuide.scale.set(20,20,20)
      uranusRing.rotateX(1.5708);
      scene.add( uranusGuide );

      //************************* Neptune ****************************
      const neptuneColorMap = textureLoader.load("textures/neptunemap.jpg");
      neptuneColorMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      neptuneColorMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically

      const sphereNeptune = new THREE.SphereGeometry(5, 32, 32);
      const materialNeptune = new THREE.MeshStandardMaterial({
        map: neptuneColorMap,
      });

      const neptuneMesh = new THREE.Mesh(sphereNeptune, materialNeptune);
      neptuneMesh.position.set(800, 0, -400);
      neptuneMesh.scale.set(scl, scl, scl);
      scene.add(neptuneMesh);

      const neptuneRing = new THREE.RingGeometry( 50, 50.1, 100 );
      const neptuneMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const neptuneGuide = new THREE.Mesh( neptuneRing, neptuneMaterial );
      neptuneGuide.scale.set(20,20,20)
      neptuneRing.rotateX(1.5708);
      scene.add( neptuneGuide );

      //************************* Pluto ****************************
      const plutoColorMap = textureLoader.load("textures/plutomap1k.jpg");
      plutoColorMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      plutoColorMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically

      const plutoBumpMap = textureLoader.load("textures/plutobump1k.jpg");
      plutoBumpMap.wrapS = THREE.RepeatWrapping; // set to tile/repeat horizontally
      plutoBumpMap.wrapT = THREE.RepeatWrapping; // set to tile/repeat vertically

      const spherePluto = new THREE.SphereGeometry(5, 32, 32);
      const materialPluto = new THREE.MeshStandardMaterial({
        map: plutoColorMap,
        bumpMap: plutoBumpMap,
      });

      const plutoMesh = new THREE.Mesh(spherePluto, materialPluto);
      plutoMesh.position.set(1000, 0, 0);
      plutoMesh.scale.set(2, 2, 2);
      scene.add(plutoMesh);

      const plutoRing = new THREE.RingGeometry( 55, 55.1, 100 );
      const plutoMaterial = new THREE.MeshBasicMaterial( { color: 0xffffff, side: THREE.DoubleSide } );
      const plutoGuide = new THREE.Mesh( plutoRing, plutoMaterial );
      plutoGuide.scale.set(20,20,20)
      plutoRing.rotateX(1.5708);
      scene.add( plutoGuide );

       //**************** rings for solar system ************
    
      

      //**************** STARS ************
      // var cubeTextureLoader = new THREE.CubeTextureLoader();
      // scene.background = cubeTextureLoader.load([
      //   starTexture,
      //   starTexture,
      //   starTexture,
      //   starTexture,
      //   starTexture,
      //   starTexture
      // ]);


      // var starGeometry  = new THREE.SphereGeometry(100, 1000, 1000);

      // var starFieldMap = textureLoader.load("textures/galaxy_starfield.png");
      // starFieldMap.wrapS = THREE.RepeatWrapping;
      // starFieldMap.wrapT = THREE.RepeatWrapping;
      // venusTexture.repeat.set(0.2, 0.2);

      // var starMaterial  = new THREE.MeshBasicMaterial({map: starFieldMap, side: THREE.BackSide});

      // var starMesh  = new THREE.Mesh(starGeometry, starMaterial);
      // scene.add(starMesh);

      //************* LIGHTING *****************

      const ambient = new THREE.AmbientLight(0x333333, 1.5);
      scene.add(ambient);      

      const sunLight = new THREE.PointLight(0xffffff, 2, 1000);
      sunLight.position.set(0,0,0);
      scene.add(sunLight);

      //************* RENDER ANIMATIONS *****************
      const render = function () {
        requestAnimationFrame(render);

        controls.update();
        update();
        renderer.render(scene, camera);
      };
      const update = function () {
        sun.rotation.y += 0.004;
        mercury.rotation.y += 0.004;
        venusMesh.rotation.y += 0.002;
        earthMesh.rotation.y += 0.02;
        mars.rotation.y += 0.018;
        jupiter.rotation.y += 0.04;
        saturnMesh.rotation.y += 0.038;
        //object.rotation.setEulerFromQuaternion( quaternion );
        uranusMesh.rotation.y += 0.03;
        neptuneMesh.rotation.y += 0.032;
        plutoMesh.rotation.y += 0.008;


        // mercury.obj.rotateY(0.04)
      };
      render();
    </script>
  </body>
</html>
